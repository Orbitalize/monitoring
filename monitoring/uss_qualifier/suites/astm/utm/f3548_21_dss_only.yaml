name: ASTM F3548-21 DSS Only
resources:
  test_env_version_providers: resources.versioning.VersionProvidersResource?
  prod_env_version_providers: resources.versioning.VersionProvidersResource?
  dss: resources.astm.f3548.v21.DSSInstanceResource
  dss_instances: resources.astm.f3548.v21.DSSInstancesResource?
  dss_crdb_cluster: resources.interuss.crdb.CockroachDBClusterResource?
  non_conflicting_flights: resources.flight_planning.FlightIntentsResource
  second_utm_auth: resources.communications.AuthAdapterResource?
  id_generator: resources.interuss.IDGeneratorResource
  planning_area: resources.astm.f3548.v21.PlanningAreaResource
  problematically_big_area: resources.VerticesResource
  system_identity: resources.versioning.SystemIdentityResource?
local_resources:
  system_identity:
    resource_type: resources.versioning.SystemIdentityResource
    specification:
      system_identity: astm.f3548.v21
actions:
- test_scenario:
    scenario_type: scenarios.versioning.GetSystemVersions
    resources:
      version_providers: test_env_version_providers
      system_identity: system_identity
    on_failure: Continue
- action_generator:
    generator_type: action_generators.astm.f3548.ForEachDSS
    resources:
      dss_instances: dss_instances
      dss_crdb_cluster: dss_crdb_cluster?
      second_utm_auth: second_utm_auth?
      flight_intents: non_conflicting_flights
      id_generator: id_generator
      planning_area: planning_area
      problematically_big_area: problematically_big_area
    specification:
      action_to_repeat:
        test_suite:
          suite_type: suites.astm.utm.dss_probing
          resources:
            dss: dss
            second_utm_auth: second_utm_auth?
            all_dss_instances: dss_instances
            dss_crdb_cluster: dss_crdb_cluster?
            flight_intents: flight_intents
            id_generator: id_generator
            planning_area: planning_area
            problematically_big_area: problematically_big_area
        on_failure: Continue
      dss_instances_source: dss_instances
      dss_instance_id: dss
    on_failure: Continue
- test_scenario:
    scenario_type: scenarios.astm.utm.versioning.evaluate_system_versions.EvaluateSystemVersions
    resources:
      test_env_version_providers: test_env_version_providers
      prod_env_version_providers: prod_env_version_providers
      system_identity: system_identity
    on_failure: Continue
- test_scenario:
    scenario_type: scenarios.astm.utm.AggregateChecks
    resources:
      flight_planners: flight_planners

participant_verifiable_capabilities:
  - id: scd
    name: Strategic Conflict Detection
    description: Participant fulfills testable requirements necessary to perform the Strategic Conflict Detection role.
    verification_condition:
      requirements_checked:
          checked:
              requirement_sets:
                  - "astm.f3548.v21.scd#Automated verification"
  - id: no_failures
    name: Fails No Existing Tests
    description: Until testing coverage is sufficiently complete to verify all intended requirements for particular roles, this capability may be useful in communicating that the participant has passed all existing applicable tests for their role and capabilities.  This capability should be removed once test coverage extends to all intended requirements.
    verification_condition:
        no_failed_checks: {}
